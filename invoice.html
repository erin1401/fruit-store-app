<!doctype html>
<html lang="id">
<head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Invoice — Juragan Buah</title><link rel="stylesheet" href="styles.css"></head>
<body>
  <div id="content" class="card invoice" style="max-width:720px;margin:20px auto"></div>
  <script src="utils.js"></script>
  <script src="data.js"></script>
  <script>
    const params = new URLSearchParams(location.search);
    const id = params.get('id');
    const sale = DataStore.getSales().find(s=>s.id===id);
    const out = document.getElementById('content');
    if(!sale){ out.innerHTML = '<p>Transaksi tidak ditemukan</p>'; }
    else {
      let html = `<h2>Invoice — Juragan Buah</h2><div>Invoice: ${sale.id}</div><div>Tanggal: ${formatTanggal(sale.date)}</div><table style="width:100%;margin-top:12px"><thead><tr><th>Nama</th><th>Qty</th><th>Harga</th></tr></thead><tbody>`;
      sale.items.forEach(i=> html += `<tr><td>${i.name}</td><td>${i.qty}</td><td>${formatRupiah(i.price)}</td></tr>`);
      html += `</tbody></table><div style="text-align:right;margin-top:12px"><b>Total: ${formatRupiah(sale.total)}</b></div><div style="margin-top:8px">Terima kasih</div>`;
      out.innerHTML = html;
    }
  </script>
</body>
</html>
